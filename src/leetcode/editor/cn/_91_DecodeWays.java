package leetcode.editor.cn;
//91
//ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ˜ å°„è¿›è¡Œäº† ç¼–ç  ï¼š 
//
// 
//'A' -> 1
//'B' -> 2
//...
//'Z' -> 26
// 
//
// è¦ è§£ç  å·²ç¼–ç çš„æ¶ˆæ¯ï¼Œæ‰€æœ‰æ•°å­—å¿…é¡»åŸºäºä¸Šè¿°æ˜ å°„çš„æ–¹æ³•ï¼Œåå‘æ˜ å°„å›å­—æ¯ï¼ˆå¯èƒ½æœ‰å¤šç§æ–¹æ³•ï¼‰ã€‚ä¾‹å¦‚ï¼Œ"111" å¯ä»¥å°† "1" ä¸­çš„æ¯ä¸ª "1" æ˜ å°„ä¸º "A
//" ï¼Œä»è€Œå¾—åˆ° "AAA" ï¼Œæˆ–è€…å¯ä»¥å°† "11" å’Œ "1"ï¼ˆåˆ†åˆ«ä¸º "K" å’Œ "A" ï¼‰æ˜ å°„ä¸º "KA" ã€‚æ³¨æ„ï¼Œ"06" ä¸èƒ½æ˜ å°„ä¸º "F" ï¼Œå› ä¸º "
//6" å’Œ "06" ä¸åŒã€‚ 
//
// ç»™ä½ ä¸€ä¸ªåªå«æ•°å­—çš„ éç©º å­—ç¬¦ä¸² num ï¼Œè¯·è®¡ç®—å¹¶è¿”å› è§£ç  æ–¹æ³•çš„ æ€»æ•° ã€‚ 
//
// é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆè‚¯å®šæ˜¯ä¸€ä¸ª 32 ä½ çš„æ•´æ•°ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šs = "12"
//è¾“å‡ºï¼š2
//è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "AB"ï¼ˆ1 2ï¼‰æˆ–è€… "L"ï¼ˆ12ï¼‰ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šs = "226"
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "BZ" (2 26), "VF" (22 6), æˆ–è€… "BBF" (2 2 6) ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šs = "0"
//è¾“å‡ºï¼š0
//è§£é‡Šï¼šæ²¡æœ‰å­—ç¬¦æ˜ å°„åˆ°ä»¥ 0 å¼€å¤´çš„æ•°å­—ã€‚å«æœ‰ 0 çš„æœ‰æ•ˆæ˜ å°„æ˜¯ 'J' -> "10" å’Œ 'T'-> "20" ã€‚ç”±äºæ²¡æœ‰å­—ç¬¦ï¼Œå› æ­¤æ²¡æœ‰æœ‰æ•ˆçš„æ–¹æ³•å¯¹æ­¤è¿›è¡Œ
//è§£ç ï¼Œå› ä¸ºæ‰€æœ‰æ•°å­—éƒ½éœ€è¦æ˜ å°„ã€‚
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šs = "1"
//è¾“å‡ºï¼š1
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= s.length <= 100 
// s åªåŒ…å«æ•°å­—ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å«å‰å¯¼é›¶ã€‚ 
// 
// Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 606 ğŸ‘ 0

public class _91_DecodeWays {
    public static void main(String[] args) {
        Solution solution = (new _91_DecodeWays()).new Solution();
        int i = solution.numDecodings("1314");
        System.out.println(i);
    }
    
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int numDecodings(String s) {
        return solutionRollingArray(s);
    }

    // é€’å½’è§£æ³•
    private int solutionRecursive(String s) {
        // ä»å·¦å¾€å³è§£ç , ä¸€ä¸ªæ•°å­—, è¦ä¹ˆå•ç‹¬è§£ç , è¦ä¹ˆå’Œå®ƒçš„åä¸€ä¸ªæ•°å­—ç»„åˆåœ¨ä¸€èµ·è§£ç 
        // æ³¨æ„, è‹¥æ˜¯1ä¸ªæ•°å­—å•ç‹¬è§£ç , æœ‰æ•ˆçš„æ•°å­—èŒƒå›´æ˜¯ 1 - 9
        //      è‹¥æ˜¯2ä¸ªæ•°å­—ç»„åˆåœ¨ä¸€èµ·è§£ç , å·¦è¾¹æ•°å­—æœ‰æ•ˆèŒƒå›´æ˜¯1-2, å³è¾¹æ•°å­—æœ‰æ•ˆèŒƒå›´æ˜¯0-9(å½“å·¦ä¾§ä¸º2æ—¶, æœ‰æ•ˆèŒƒå›´æ˜¯0-6)
        // å…ˆè½¬æ¢ä¸ºintæ•°ç»„
        int[] codeArr = new int[s.length()];
        for (int i = 0; i < s.length(); i++) {
            codeArr[i] = s.charAt(i) - '0';
        }
        return count(codeArr, 0, codeArr.length - 1);
    }

    // è®¾ f(n) ä¸º ä»æ•°å­—ç¬¬nä¸ªä½ç½®å¼€å§‹, åˆ°æ•°ç»„æœ«å°¾, çš„è§£ç æ–¹æ³•æ€»æ•°
    // åˆ™åœ¨å½“å‰ä½ç½®(ä¸‹æ ‡n), æœ‰3ç§æƒ…å†µ
    //  1. ä¸èƒ½å•ç‹¬è§£ç (è¯¥ä½ç½®æ•°å­—ä¸º0)
    //  2. èƒ½å•ç‹¬è§£ç (è¯¥ä½ç½®æ•°å­—ä¸º1-9)
    //  3. èƒ½å’Œåä¸€ä¸ªæ•°å­—ç»„åˆè§£ç (è¯¥ä½ç½®çš„æ•°å’Œåä¸€ä¸ªä½ç½®çš„æ•°, ç»„åˆèµ·æ¥ä¸è¶…è¿‡26)
    // åˆ™ f(n) =
    //            0; (å½“å‰ä½ç½®æ•°å­—ä¸º0)
    //            f(n+1); (å½“å‰ä½ç½®æ•°å­—åªèƒ½å•ç‹¬è§£ç , æ— æ³•å’Œåä¸€ä¸ªæ•°ç»„åˆè§£ç )
    //            f(n+1) + f(n+2); (å½“å‰ä½ç½®æ•°å­—èƒ½å•ç‹¬è§£ç , ä¹Ÿèƒ½å’Œåä¸€ä¸ªæ•°ç»„åˆè§£ç )
    // é€’å½’è§£æ³•, ä¸çŸ¥é“ä¼šä¸ä¼šæ ˆæº¢å‡ºæˆ–è¶…æ—¶
    // æœç„¶è¶…æ—¶äº†
    // çœ‹èƒ½ä¸èƒ½ä¼˜åŒ–ä½¿ç”¨ç±»ä¼¼æ»šåŠ¨æ•°ç»„çš„æ€æƒ³
    // åº”è¯¥å¯ä»¥, f(n)çš„è®¡ç®—åªä¾èµ–ä¸f(n+1)å’Œf(n+2), è€ŒåŸå…ˆçš„é€’å½’è§£æ³•, åšäº†å¾ˆå¤šé‡å¤çš„è¿ç®—
    private int count(int[] num, int index, int end) {
        if (index > end) return 1;  //è¶…å‡ºæ•°ç»„èŒƒå›´, è¦ç†è§£ä¸ºä»€ä¹ˆè¶…å‡ºæ•°ç»„èŒƒå›´ä¹Ÿç®—1
        int cur = num[index];
        if (cur == 0) return 0; // å½“å‰ä½ç½®çš„æ•°ä¸º0, æ— æ³•è§£ç 
        int mono = count(num, index + 1, end); // å½“å‰æ•°å­—å•ç‹¬è§£ç 
        int dual = 0; // å’Œåé¢çš„æ•°å­—ç»„åˆè§£ç 
        if (index < end) { // å­˜åœ¨åä¸€ä¸ªæ•°å­—æ—¶
            int sum = cur * 10 + num[index + 1];
            if (sum <= 26) dual = count(num, index + 2, end); // ç»„åˆè§£ç æœ‰æ•ˆ
        }
        return mono + dual; // å•ç‹¬è§£ç  + ç»„åˆè§£ç 
    }

    // é‡‡ç”¨æ»šåŠ¨æ•°ç»„æ€æƒ³è¿›è¡Œä¼˜åŒ–
    // è€—æ—¶ 1ms, 99.93% , å†…å­˜ 36.6MB, 66.92%
    private int solutionRollingArray(String s) {
        // åªéœ€è¦3ä¸ªæ•°å³å¯, æ³¨æ„åˆå§‹åŒ–æ—¶çš„ç»†èŠ‚
        int ansN, ansN1, ansN2 = 1;
        ansN = s.charAt(s.length() - 1) - '0' == 0 ? 0 : 1; // è‹¥æœ€åä¸€ä½æ˜¯0, åˆ™åˆå§‹åŒ–f(n) = 0
        ansN1 = ansN; // ä¸‹é¢ä»ç¬¬äºŒä½å¼€å§‹, æ‰€ä»¥å°† f(n+1)è¿›è¡Œæ›´æ–°
        // ä»åå¾€å‰, ä»å€’æ•°ç¬¬äºŒä¸ªæ•°å¼€å§‹
        for (int i = s.length() - 2; i >= 0; i--) {
            int l = s.charAt(i) - '0';
            int r = s.charAt(i + 1) - '0';
            ansN = l == 0 ? 0 : ansN1; // å•ç‹¬è§£ç æ—¶, f(n) = f(n+1)
            int sum = l * 10 + r;
            if (sum <= 26 && sum >= 10) ansN += ansN2; // å½“ç»„åˆè§£ç æœ‰æ•ˆæ—¶ , f(n) = f(n+1) + f(n+2)
            // æ›´æ–° f(n+1), f(n+2)
            ansN2 = ansN1;
            ansN1 = ansN;
        }
        return ansN;
    }
}
//leetcode submit region end(Prohibit modification and deletion)


}