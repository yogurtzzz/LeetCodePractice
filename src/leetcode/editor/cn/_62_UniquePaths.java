package leetcode.editor.cn;
//62
//ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚ 
//
// æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ ï¼‰ã€‚ 
//
// é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šm = 3, n = 7
//è¾“å‡ºï¼š28 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šm = 3, n = 2
//è¾“å‡ºï¼š3
//è§£é‡Šï¼š
//ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
//1. å‘å³ -> å‘å³ -> å‘ä¸‹
//2. å‘å³ -> å‘ä¸‹ -> å‘å³
//3. å‘ä¸‹ -> å‘å³ -> å‘å³
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šm = 7, n = 3
//è¾“å‡ºï¼š28
// 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šm = 3, n = 3
//è¾“å‡ºï¼š6 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= m, n <= 100 
// é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå°äºç­‰äº 2 * 109 
// 
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 864 ğŸ‘ 0

import java.math.BigInteger;

public class _62_UniquePaths {
    public static void main(String[] args) {
        Solution solution = (new _62_UniquePaths()).new Solution();
        System.out.println(solution.uniquePaths(3, 3));  // 6
        System.out.println(solution.uniquePaths(7, 3));  // 28
        System.out.println(solution.uniquePaths(3,2));   // 3
        System.out.println(solution.uniquePaths(10,10));  //48620
    }
    
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public int uniquePaths(int m, int n) {
        // åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥
        // åˆ™æ¯æ¡è·¯å¾„ï¼Œéƒ½å›ºå®šéœ€è¦ç§»åŠ¨ m + n - 2 æ¬¡
        // å¯¹äº 3 Ã— 3 çš„æ ¼å­, å®é™…è®¡ç®—çš„æ˜¯ç»„åˆæ•° C2/4
        // å¯¹äºæœ€åä¸€æ­¥, åªæœ‰2ç§æƒ…å†µ, æœ€åä¸€æ¬¡éœ€è¦å¾€ä¸‹èµ°, æœ€åä¸€æ¬¡éœ€è¦å¾€å³èµ°
        // f(m,n) = f(m - 1, n) + f(m, n - 1)
        // é€’å½’å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ, ä½†æ˜¯ä¼šå¯¼è‡´æ ˆæº¢å‡º
        // å…¶å®å¯ä»¥åªç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ [m,n], ç®—å‡ºä»å·¦ä¸Šè§’, åˆ°è¾¾æ¯ä¸ªä½ç½®çš„æ‰€æœ‰è·¯å¾„æ•°å³å¯
        return combination(m,n);
    }

    // è€—æ—¶ 0ms ,ç©ºé—´ 35.3MB
    private int combination(int m, int n) {
        // å…¶å®ç­”æ¡ˆå°±æ˜¯æ’åˆ—ç»„åˆ
        // å¦‚ m = 3 , n = 3 , ç­”æ¡ˆå°±æ˜¯C2/4  = (4*3)/(1*2) = 6
        // å¦‚ m = 5, n = 4, ç­”æ¡ˆå°±æ˜¯C3/7 = (7*6*5)/(1*2*3) = 35
        // å¦‚ m = 3, n = 7 , ç­”æ¡ˆå°±æ˜¯C2/8 = (8*7)/(1*2) = 28
        // ä½†æ˜¯å½“è¾“å…¥è§„æ¨¡è¾¾åˆ° m = 10, n = 10, ç®—å‡ºæ¥çš„æ•°å¤ªå¤§, ä¼šé€ æˆæº¢å‡º, è‹¥ä½¿ç”¨å­—ç¬¦ä¸²å½¢å¼çš„ä¹˜æ³•, åˆ™å¯ä»¥é¿å…
        // æˆ–è€…è€ƒè™‘, ä¹˜æ³•å’Œé™¤æ³•åŒæ—¶è¿›è¡Œ, å³å¯é¿å…æ•´æ•°æº¢å‡º, ä½†æ˜¯è¦å¦‚ä½•ä¿è¯é™¤æ³•æ—¶ä¸å‡ºç°å°æ•°ï¼Œå› ä¸ºå°æ•°ä¼šå¯¼è‡´æ•´æ•°è¢«æˆªæ–­, ä¸¢å¤±ç²¾åº¦
        // ä¸å¿…æ‹…å¿ƒä¸¢å¤±ç²¾åº¦çš„é—®é¢˜, è¿ç»­çš„2ä¸ªæ•´æ•°, ä¸€å®šæœ‰ä¸€ä¸ªå¯ä»¥è¢«2æ•´é™¤, åŒç†, è¿ç»­çš„3ä¸ªæ•´æ•°ï¼Œä¸€å®šæœ‰ä¸€ä¸ªè¢«3æ•´é™¤, è¿ç»­çš„nä¸ªæ•´æ•°, ä¸€å®šæœ‰ä¸€ä¸ªä¼šè¢«næ•´é™¤
        if (m > n) {
            int temp = n;
            n = m;
            m = temp;
        }
        long ans = 1;
        for (int x = n, y = 1; y < m; ++x, ++y) {
            ans = ans * x / y;
        }
        return (int) ans;
    }
    // è§£æ³•1, é€’å½’, è¾“å…¥æ•°æ®è§„æ¨¡å¤ªå¤§ä¼šå¯¼è‡´æ ˆæº¢å‡º, æˆ–è¶…æ—¶
    private int recursive(int m,int n) {
        if (m == 1 || n == 1) return 1; // ä¸Šè¾¹ç•Œå’Œå·¦è¾¹ç•Œ
        return recursive(m - 1, n) + recursive(m, n - 1);
    }

    // è§£æ³•2: ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ [m,n], ç®—å‡ºä»å·¦ä¸Šè§’, åˆ°è¾¾æ¯ä¸ªä½ç½®çš„è·¯å¾„æ•°é‡å³å¯
    // è¿™ä¸ªè§£æ³•æ—¶é—´å¤æ‚åº¦å¾ˆä¼˜, ä½†æ˜¯ç©ºé—´å¤æ‚åº¦æœ‰ç‚¹é«˜
    // è€ƒè™‘èƒ½ä¸èƒ½é‡‡ç”¨ç±»ä¼¼äºæ»šåŠ¨æ•°ç»„çš„æ–¹æ³•??
    // è€—æ—¶ 0ms ,æ¶ˆè€—å†…å­˜ 35.3MB, 42.02%
    private int solution2(int m, int n) {
        int[][] arr = new int[m + 1][n + 1];
        // å…ˆå¡«å……æ¨ªç«–ä¸¤æ¡è¾¹ç•Œçš„å€¼, å›ºå®šä¸º1
        for (int i = 1; i <= n; i++) {
            arr[1][i] = 1;
        }
        for (int i = 1; i <= m; i++) {
            arr[i][1] = 1;
        }
        // å†ä¾æ¬¡å¡«å……ä¸‹é¢çš„è¡Œ(æˆ–åˆ—)
        for (int i = 2; i <= m ; i++) {
            for (int j = 2; j <= n; j++) {
                arr[i][j] = arr[i - 1][j] + arr[i][j - 1];
            }
        }
        return arr[m][n];
    }

    // åœ¨è§£æ³•2çš„åŸºç¡€ä¸Šä¼˜åŒ–äº†ä¸€ä¸‹, å°‘ç”¨äº† m + n - 1 ä¸ªå…ƒç´ çš„å†…å­˜
    // è€—æ—¶ 0ms ,æ¶ˆè€—å†…å­˜ 35.2MB, 64.36%
    private int solution3(int m,int n) {
        if (m == 1 || n == 1) return 1;
        int[][] arr = new int[m - 1][n - 1];
        for (int i = 0; i < m - 1; i++) {
            for (int j = 0; j < n - 1; j++) {
                if (i == 0 && j == 0) arr[i][j] = 2;
                else if (i == 0) arr[i][j] = 1 + arr[i][j - 1];
                else if (j == 0) arr[i][j] = 1 + arr[i - 1][j];
                else arr[i][j] = arr[i - 1][j] + arr[i][j - 1];
            }
        }
        return arr[m - 2][n - 2];
    }

    // ä¼˜åŒ–: æ ¹æ® solution3 çš„è§£æ³•, æ¯ç®—å®Œç¬¬iè¡Œ, åˆ™å‰é¢çš„ 1 åˆ° i-1 è¡Œçš„æ•°æ®éƒ½æ²¡ç”¨äº†
    // å…¶å®ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å³å¯
    // è€—æ—¶ 0ms ,æ¶ˆè€—å†…å­˜ 35MB, 96.61%
    private int solution4(int m, int n) {
        if (n == 1 || m == 1) return 1;
        // m Ã— n çš„æ–¹æ ¼
        // åªä½¿ç”¨ä¸€è¡Œçš„ç©ºé—´, å³ n ä¸ªæ ¼å­, å…¶å®ç¬¬ä¸€ä¸ªæ ¼å­ä¸éœ€è¦, å› ä¸ºå…¶å›ºå®šä¸º1, æ‰€ä»¥åªç”¨n - 1ä¸ªæ ¼å­
        int[] arr = new int[n - 1];
        // ç¬¬ä¸€è¡Œæ—¶, åˆå§‹åŒ–å…¨ä¸º1
        for (int i = 0; i < n - 1; i++) {
            arr[i] = 1;
        }
        // ä¾æ¬¡è®¡ç®—ç¬¬äºŒè¡Œ, ç¬¬ä¸‰è¡Œ, åˆ°ç¬¬mè¡Œ
        for (int i = 1; i < m; i++) {
            for (int j = 0; j < n - 1; j++) {
                // f(i,j) = f(i-1,j) + f(i,j-1)
                // ç°åœ¨è¦åšçš„æ˜¯, æ ¹æ®ä¸Šä¸€è¡Œï¼Œå³ç¬¬i-1è¡Œ, æ¥è®¡ç®—ç¬¬iè¡Œ
                int left = j == 0 ? 1 : arr[j - 1];
                // f(i,j) = f(i,j-1) + f(i-1,j)
                // åŸæœ¬çš„ arr[j]æ˜¯åŒä¸€åˆ—ï¼Œä¸Šä¸€è¡Œçš„æ•°, å³f(i-1,j)
                // left å³æ˜¯åŒä¸€è¡Œ, å·¦ä¾§çš„æ•°, å³f(i,j-1)
                arr[j] = left + arr[j];
            }
        }
        return arr[n - 2];
    }
}
//leetcode submit region end(Prohibit modification and deletion)
}